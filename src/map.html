<input id="file" type="file" />
<!-- <div id="view"></div> -->
<script type='text/javascript' src='http://maps.google.com/maps/api/js?sensor=false'></script>
<div id='map' style='width:1200px; height:800px;'><br /></div>
<!-- java script -->
<script src="http://code.jquery.com/jquery-2.2.0.min.js"></script>
<script type="text/javascript" >// <![CDATA[

var myLatLng = new google.maps.LatLng(37.507491,139.931477);
var myMap = new google.maps.Map(document.getElementById('map'), {
zoom: 12,
center: myLatLng,
mapTypeId: google.maps.MapTypeId.ROADMAP,
scaleControl: true,
scrollwheel: false
});

new google.maps.Circle({
center: myLatLng,       // 中心点(google.maps.LatLng)
fillColor: '#0000ff',   // 塗りつぶし色
fillOpacity: 0.6,       // 塗りつぶし透過度（0: 透明 ⇔ 1:不透明）
map: myMap,             // 表示させる地図（google.maps.Map）
radius: 30,          // 半径（ｍ）
strokeColor: '#0000ff', // 外周色
strokeOpacity: 1.0,       // 外周透過度（0: 透明 ⇔ 1:不透明）
strokeWeight: 1         // 外周太さ（ピクセル）
});

new google.maps.Circle({
center: myLatLng,       // 中心点(google.maps.LatLng)
fillColor: '#0000ff',   // 塗りつぶし色
fillOpacity: 0.3,       // 塗りつぶし透過度（0: 透明 ⇔ 1:不透明）
map: myMap,             // 表示させる地図（google.maps.Map）
radius: 2000,          // 半径（ｍ）
strokeColor: '#0000ff', // 外周色
strokeOpacity: 0.5,       // 外周透過度（0: 透明 ⇔ 1:不透明）
strokeWeight: 1         // 外周太さ（ピクセル）
});

new google.maps.Circle({
center: myLatLng,       // 中心点(google.maps.LatLng)
fillColor: '#0000ff',   // 塗りつぶし色
fillOpacity: 0.2,       // 塗りつぶし透過度（0: 透明 ⇔ 1:不透明）
map: myMap,             // 表示させる地図（google.maps.Map）
radius: 5000,          // 半径（ｍ）
strokeColor: '#0000ff', // 外周色
strokeOpacity: 0.7,       // 外周透過度（0: 透明 ⇔ 1:不透明）
strokeWeight: 1         // 外周太さ（ピクセル）
});

$(document).ready(function(){
    $("#file").change(function(e){
        var file = e.target.files[0];
        // FileReader.onloadイベントに
        // ファイル選択時に行いたい処理を書く
        var reader = new FileReader();
        reader.onload = function(e){
            // 選択したCSVファイルから２次元配列を生成
            var arr = toArray(e.target.result);
            // ２次元配列からテーブルを生成
            <!-- var table = createTableFromArray(arr); -->
            // divにテーブルを挿入
            <!-- $("#view").empty(); -->
            <!-- $("#view").append(table); -->
        };
        // Textとしてファイルを読み込む
        reader.readAsText(file);
    });
},false);
// CSVテキストを２次元配列にする 
function toArray(csv){
    var result = new Array();
    var rows = csv.split("\n");
    var tmp_num = 0
    $(rows).each(function(){
        var cosid_data = this.split(",");
        var costomer_LatLng = new google.maps.LatLng(cosid_data[3],cosid_data[4]);
        var mycolor = "#ff0000";
        var mysize = 2;

        tmp_num += 1;
        if(tmp_num > 10000){
            return true;
        }
        new google.maps.Circle({
        center: costomer_LatLng,       // 中心点(google.maps.LatLng)
        fillColor: mycolor,   // 塗りつぶし色
        fillOpacity: 1,       // 塗りつぶし透過度（0: 透明 ⇔ 1:不透明）
        map: myMap,             // 表示させる地図（google.maps.Map）
        radius: mysize,          // 半径（ｍ）
        strokeColor: mycolor, // 外周色
        strokeOpacity: 1,       // 外周透過度（0: 透明 ⇔ 1:不透明）
        strokeWeight: 2         // 外周太さ（ピクセル）
        });
    });
    return result;
}
// ]]></script>
